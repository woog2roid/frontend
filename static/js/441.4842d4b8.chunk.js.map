{"version":3,"file":"static/js/441.4842d4b8.chunk.js","mappings":"8TAAaA,EAAa,CACxBC,SAAU,WACVC,IAAK,MACLC,KAAM,MACNC,UAAW,wBACXC,MAAO,IACPC,QAAS,mBACTC,OAAQ,iBACRC,UAAW,GACXC,EAAG,G,SCGU,SAASC,IACtB,IAAMC,GAAWC,EAAAA,EAAAA,MAEDC,GAAmBC,EAAAA,EAAAA,IAAM,WAAoBC,EAAAA,GAArDC,OACQC,GAAqBH,EAAAA,EAAAA,IAAM,UAAsBC,EAAAA,GAAzDC,OAER,EAAoBE,EAAAA,SAAe,IAAnC,eAAOC,EAAP,KAAWC,EAAX,KACA,EAAgCF,EAAAA,SAAe,IAA/C,eAAOG,EAAP,KAAiBC,EAAjB,KACMC,EAAaL,EAAAA,aAAkB,SAACM,GACpCJ,EAAMI,EAAEC,OAAOC,SACd,IACGC,EAAmBT,EAAAA,aAAkB,SAACM,GAC1CF,EAAYE,EAAEC,OAAOC,SACpB,IAEGE,EAAoBV,EAAAA,YAAA,mCACxB,WAAOM,GAAP,oEACEA,EAAEK,iBACS,KAAPV,GAA0B,KAAbE,EAFnB,gBAGIS,MAAM,iGAHV,sCAKUC,EAAAA,EAAAA,KAAA,cACiB,CACnBZ,GAAIA,EACJE,SAAUA,IAEXW,MAAK,SAACC,GACLC,QAAQC,IAAIF,EAAIG,MAChBvB,IACAI,IACAN,EAAS,cAEV0B,OAAM,SAACC,GACNR,MAAM,qEAjBd,2CADwB,sDAsBxB,CAACX,EAAIE,IAGP,OACE,SAACkB,EAAA,EAAD,CAAOC,MAAM,EAAb,UACE,UAACC,EAAA,EAAD,CAAKC,UAAU,OAAOC,YAAU,EAACC,SAAUhB,EAAmBiB,GAAI7C,EAAlE,WACE,SAAC8C,EAAA,EAAD,CAAWC,OAAO,SAASC,UAAQ,EAACC,WAAS,EAACC,MAAM,0DAAaC,WAAS,EAACC,SAAU7B,KACrF,SAACuB,EAAA,EAAD,CACEC,OAAO,SACPC,UAAQ,EACRC,WAAS,EACTC,MAAM,gEACNG,KAAK,WACLC,aAAa,mBACbF,SAAUzB,KAEZ,SAAC4B,EAAA,EAAD,CAAQF,KAAK,SAASJ,WAAS,EAACO,QAAQ,YAAYX,GAAI,CAAEY,GAAI,EAAGC,GAAI,GAArE,iCAGA,SAACC,EAAA,GAAD,CAAMC,WAAS,EAAf,UACE,SAACD,EAAA,GAAD,CAAME,MAAI,EAAV,UACE,SAACC,EAAA,EAAD,CACEC,QAAS,WACPpD,EAAS,UAEX6C,QAAQ,QAJV,wE,cC3DG,SAAS9C,IACtB,IAAMC,GAAWC,EAAAA,EAAAA,MACHoD,GAAalD,EAAAA,EAAAA,IAAM,WAAoBC,EAAAA,GAA7CqB,KAQR,OANAlB,EAAAA,WAAgB,WACV8C,GACFrD,EAAS,aAEV,CAACqD,KAGF,iCACE,SAACC,EAAA,EAAD,KACA,SAACvD,EAAD","sources":["components/Login/LoginModal/style.tsx","components/Login/LoginModal/index.tsx","pages/Login/index.tsx"],"sourcesContent":["export const modalStyle = {\n  position: 'absolute',\n  top: '50%',\n  left: '50%',\n  transform: 'translate(-50%, -50%)',\n  width: 400,\n  bgcolor: 'background.paper',\n  border: '2px solid #000',\n  boxShadow: 24,\n  p: 4,\n};\n","import * as React from 'react';\n\nimport axios from '@utils/axios';\nimport useSWR from 'swr';\nimport fetcher from '@utils/swrFetcehr';\nimport { IUser, IFriends } from '@typings/dbTypes';\n\nimport { useNavigate } from 'react-router-dom';\n\nimport { Box, TextField, Button, Modal, Grid, Link } from '@mui/material';\nimport { modalStyle } from './style';\n\nexport default function Login() {\n  const navigate = useNavigate();\n\n  const { mutate: mutateUserData } = useSWR<IUser>(`/user/me`, fetcher);\n  const { mutate: mutateFriendData } = useSWR<IFriends>(`/friend`, fetcher);\n\n  const [id, setId] = React.useState('');\n  const [password, setPassword] = React.useState('');\n  const onChangeId = React.useCallback((e) => {\n    setId(e.target.value);\n  }, []);\n  const onChangePassword = React.useCallback((e) => {\n    setPassword(e.target.value);\n  }, []);\n\n  const onSubmitLoginForm = React.useCallback(\n    async (e) => {\n      e.preventDefault();\n      if (id === '' || password === '') {\n        alert('아이디 혹은 비밀번호를 입력하세요');\n      } else {\n        await axios\n          .post(`/user/login`, {\n            id: id,\n            password: password,\n          })\n          .then((res) => {\n            console.log(res.data);\n            mutateUserData();\n            mutateFriendData();\n            navigate('/notice');\n          })\n          .catch((err) => {\n            alert(`로그인에 실패했습니다.`);\n          });\n      }\n    },\n    [id, password],\n  );\n\n  return (\n    <Modal open={true}>\n      <Box component=\"form\" noValidate onSubmit={onSubmitLoginForm} sx={modalStyle}>\n        <TextField margin=\"normal\" required fullWidth label=\"아이디를 입력하세요\" autoFocus onChange={onChangeId} />\n        <TextField\n          margin=\"normal\"\n          required\n          fullWidth\n          label=\"비밀번호를 입력하세요\"\n          type=\"password\"\n          autoComplete=\"current-password\"\n          onChange={onChangePassword}\n        />\n        <Button type=\"submit\" fullWidth variant=\"contained\" sx={{ mt: 3, mb: 2 }}>\n          로그인\n        </Button>\n        <Grid container>\n          <Grid item>\n            <Link\n              onClick={() => {\n                navigate('/join');\n              }}\n              variant=\"body2\"\n            >\n              회원가입하러 가기\n            </Link>\n          </Grid>\n        </Grid>\n      </Box>\n    </Modal>\n  );\n}\n","import * as React from 'react';\n\nimport { useNavigate } from 'react-router-dom';\nimport useSWR from 'swr';\nimport fetcher from '@utils/swrFetcehr';\nimport { IUser } from '@typings/dbTypes';\n\nimport LoginModal from '@components/Login/LoginModal';\n\nimport MainLayout from '@layouts/MainLayout';\n\nexport default function Login() {\n  const navigate = useNavigate();\n  const { data: userData } = useSWR<IUser>(`/user/me`, fetcher);\n\n  React.useEffect(() => {\n    if (userData) {\n      navigate('/notice');\n    }\n  }, [userData]);\n\n  return (\n    <>\n      <MainLayout />\n      <LoginModal />\n    </>\n  );\n}\n"],"names":["modalStyle","position","top","left","transform","width","bgcolor","border","boxShadow","p","Login","navigate","useNavigate","mutateUserData","useSWR","fetcher","mutate","mutateFriendData","React","id","setId","password","setPassword","onChangeId","e","target","value","onChangePassword","onSubmitLoginForm","preventDefault","alert","axios","then","res","console","log","data","catch","err","Modal","open","Box","component","noValidate","onSubmit","sx","TextField","margin","required","fullWidth","label","autoFocus","onChange","type","autoComplete","Button","variant","mt","mb","Grid","container","item","Link","onClick","userData","MainLayout"],"sourceRoot":""}