{"version":3,"file":"static/js/586.c6375911.chunk.js","mappings":"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","sources":["components/Join/JoinModal/style.tsx","components/Join/JoinModal/index.tsx","pages/Join/index.tsx"],"sourcesContent":["import styled from '@emotion/styled';\n\nexport const modalStyle = {\n  position: 'absolute',\n  top: '50%',\n  left: '50%',\n  transform: 'translate(-50%, -50%)',\n  width: 400,\n  bgcolor: 'background.paper',\n  border: '2px solid #000',\n  boxShadow: 24,\n  p: 4,\n};\n\ntype isSatisfiedProps = {\n  isOk: boolean;\n};\nexport const IsSatisfied = styled('div')((props: isSatisfiedProps) => ({\n  fontSize: '12px',\n  marginLeft: '5%',\n  color: props.isOk ? 'black' : 'red',\n}));\n","import * as React from 'react';\n\nimport axios from '@utils/axios';\n\nimport { useNavigate } from 'react-router-dom';\n\nimport { Box, TextField, Button, Modal, Grid, Link } from '@mui/material';\nimport { modalStyle, IsSatisfied } from './style';\n\nexport default function Join() {\n  const navigate = useNavigate();\n\n  const [id, setId] = React.useState('');\n  const [password, setPassword] = React.useState('');\n  const [nickname, setNickname] = React.useState('');\n\n  const onChangeId = React.useCallback((e) => {\n    setId(e.target.value);\n  }, []);\n  const onChangePassword = React.useCallback((e) => {\n    setPassword(e.target.value);\n  }, []);\n  const onChangeNickname = React.useCallback((e) => {\n    setNickname(e.target.value);\n  }, []);\n\n  const [isIdUnique, setIsIdUnique] = React.useState(true);\n  const [isPwOk, setIsPwOk] = React.useState(false);\n\n  //ID 중복 체크\n  React.useEffect(() => {\n    axios\n      .get(`${process.env.REACT_APP_SERVER}/user?id=${id}`)\n      .then(() => {\n        setIsIdUnique(false);\n      })\n      .catch(() => {\n        setIsIdUnique(true);\n      });\n  }, [id]);\n\n  //비밀번호 체크\n  React.useEffect(() => {\n    const regPassword = /^(?=.*[A-Za-z])(?=.*\\d)(?=.*[$@$!%*#?&])[A-Za-z\\d$@$!%*#?&]{5,}$/;\n    if (regPassword.test(password)) setIsPwOk(true);\n    else setIsPwOk(false);\n  }, [password]);\n\n  //회원가입 요청\n  const onSubmitJoinForm = React.useCallback(\n    async (e) => {\n      e.preventDefault();\n      if (!isIdUnique) alert('아이디 중복을 확인해주십시오.');\n      else if (!isPwOk) alert('비밀번호를 확인해주십시오.');\n      else if (id === '' || nickname === '') alert('아이디와 별명을 입력하세요.');\n      else {\n        await axios\n          .post(`/user/join`, {\n            id: id,\n            password: password,\n            nickname: nickname,\n          })\n          .then((res) => {\n            navigate('/login');\n          })\n          .catch(() => {\n            alert('회원가입에 실패했습니다.\\n잠시 후에 다시 시도해주세요.');\n          });\n      }\n    },\n    [isIdUnique, isPwOk, id, nickname, password],\n  );\n\n  return (\n    <Modal open={true}>\n      <Box component=\"form\" noValidate onSubmit={onSubmitJoinForm} sx={modalStyle}>\n        <Grid container spacing={2}>\n          <Grid item xs={12}>\n            <TextField required fullWidth label=\"아이디를 입력하세요\" onChange={onChangeId} />\n          </Grid>\n          <IsSatisfied isOk={isIdUnique}>\n            {isIdUnique ? '사용 가능한 아이디입니다 :D' : '이미 있는 아이디입니다 :('}\n          </IsSatisfied>\n          <Grid item xs={12}>\n            <TextField required fullWidth label=\"비밀번호를 입력하세요\" type=\"password\" onChange={onChangePassword} />\n          </Grid>\n          <IsSatisfied isOk={isPwOk}>\n            {isPwOk\n              ? '안전한 비밀번호네요 :D'\n              : '5글자 이상, 특수문자와 숫자 영문자를 모두 사용하면 더 안전한 비밀번호가 돼요 :('}\n          </IsSatisfied>\n          <Grid item xs={12}>\n            <TextField required fullWidth label=\"별명을 입력하세요\" onChange={onChangeNickname} />\n          </Grid>\n        </Grid>\n        <Button type=\"submit\" fullWidth variant=\"contained\" sx={{ mt: 3, mb: 2 }}>\n          회원가입\n        </Button>\n        <Grid container>\n          <Grid item>\n            <Link\n              onClick={() => {\n                navigate('/login');\n              }}\n              variant=\"body2\"\n            >\n              이미 계정이 있으신가요?\n            </Link>\n          </Grid>\n        </Grid>\n      </Box>\n    </Modal>\n  );\n}\n","import * as React from 'react';\n\nimport { useNavigate } from 'react-router-dom';\nimport useSWR from 'swr';\nimport fetcher from '@utils/swrFetcehr';\nimport { IUser } from '@typings/dbTypes';\n\nimport JoinModal from '@components/Join/JoinModal';\n\nimport MainLayout from '@layouts/MainLayout';\n\nexport default function Join() {\n  const navigate = useNavigate();\n  const { data: userData } = useSWR<IUser>(`/user/me`, fetcher);\n\n  React.useEffect(() => {\n    if (userData) {\n      navigate('/notice');\n    }\n  }, [userData]);\n\n  return (\n    <>\n      <MainLayout />\n      <JoinModal />\n    </>\n  );\n}\n"],"names":["modalStyle","position","top","left","transform","width","bgcolor","border","boxShadow","p","IsSatisfied","styled","props","fontSize","marginLeft","color","isOk","Join","navigate","useNavigate","React","id","setId","password","setPassword","nickname","setNickname","onChangeId","e","target","value","onChangePassword","onChangeNickname","isIdUnique","setIsIdUnique","isPwOk","setIsPwOk","axios","process","then","catch","test","onSubmitJoinForm","preventDefault","alert","res","Modal","open","Box","component","noValidate","onSubmit","sx","Grid","container","spacing","item","xs","TextField","required","fullWidth","label","onChange","type","Button","variant","mt","mb","Link","onClick","userData","useSWR","fetcher","data","MainLayout"],"sourceRoot":""}